{"ast":null,"code":"import { RouterModule } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/item.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = [\"file\"];\nconst _c1 = a0 => [a0];\nfunction ItemComponent_div_0_div_64_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"label\")(2, \"input\", 40);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ItemComponent_div_0_div_64_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.itemUpdated.gender, $event) || (ctx_r1.itemUpdated.gender = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const genre_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", genre_r4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.itemUpdated.gender);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(genre_r4);\n  }\n}\nfunction ItemComponent_div_0_div_68_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"label\")(2, \"input\", 42);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ItemComponent_div_0_div_68_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r1.itemUpdated.type, $event) || (ctx_r1.itemUpdated.type = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const type_r6 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", type_r6);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.itemUpdated.type);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(type_r6);\n  }\n}\nfunction ItemComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"header\")(2, \"nav\", 6)(3, \"nav\", 7)(4, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ItemComponent_div_0_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.home());\n    });\n    i0.ɵɵtext(5, \"Avenue Fashion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ul\", 9)(7, \"li\", 10)(8, \"a\", 11);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(10, \"div\", 12)(11, \"div\", 13)(12, \"h1\");\n    i0.ɵɵtext(13, \"Current item\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 14)(15, \"div\", 15);\n    i0.ɵɵelement(16, \"img\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 17)(18, \"p\", 18)(19, \"strong\", 19);\n    i0.ɵɵtext(20, \"Code: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"p\", 18)(23, \"strong\", 19);\n    i0.ɵɵtext(24, \"Name: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"p\", 18)(27, \"strong\", 19);\n    i0.ɵɵtext(28, \"Price: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"p\", 18)(31, \"strong\", 19);\n    i0.ɵɵtext(32, \"Gender: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"p\", 18)(35, \"strong\", 19);\n    i0.ɵɵtext(36, \"Type: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"p\", 18)(39, \"strong\", 19);\n    i0.ɵɵtext(40, \"Description: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(41);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(42, \"div\", 4)(43, \"div\", 14)(44, \"div\", 20);\n    i0.ɵɵelement(45, \"img\", 21)(46, \"input\", 22, 0);\n    i0.ɵɵelementStart(48, \"div\", 23)(49, \"div\", 24)(50, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function ItemComponent_div_0_Template_button_click_50_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.updateImage());\n    });\n    i0.ɵɵtext(51, \"update image\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(52, \"div\", 15)(53, \"h3\", 26);\n    i0.ɵɵtext(54, \"New item\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"div\", 14)(56, \"div\", 15)(57, \"input\", 27);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ItemComponent_div_0_Template_input_ngModelChange_57_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.itemUpdated.name, $event) || (ctx_r1.itemUpdated.name = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(58, \"div\", 15)(59, \"input\", 28);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ItemComponent_div_0_Template_input_ngModelChange_59_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.itemUpdated.price, $event) || (ctx_r1.itemUpdated.price = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(60, \"div\", 23)(61, \"div\", 29)(62, \"label\", 30);\n    i0.ɵɵtext(63, \"Gender:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(64, ItemComponent_div_0_div_64_Template, 4, 3, \"div\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(65, \"div\", 29)(66, \"label\", 32);\n    i0.ɵɵtext(67, \"Type:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(68, ItemComponent_div_0_div_68_Template, 4, 3, \"div\", 33);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(69, \"div\", 23)(70, \"div\", 24)(71, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function ItemComponent_div_0_Template_button_click_71_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.update());\n    });\n    i0.ɵɵtext(72, \"save\");\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(73, \"div\", 4)(74, \"div\", 34)(75, \"div\", 15)(76, \"div\", 35)(77, \"div\", 36)(78, \"div\", 37)(79, \"div\", 4)(80, \"div\", 14)(81, \"div\", 15)(82, \"h2\", 26);\n    i0.ɵɵtext(83, \"Additional information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(84, \"textarea\", 38);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ItemComponent_div_0_Template_textarea_ngModelChange_84_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.itemUpdated.description, $event) || (ctx_r1.itemUpdated.description = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()()()()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(14, _c1, \"/inventory/items/\" + ctx_r1.item.id + \"/\" + ctx_r1.category + \"/stock\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Edit \", ctx_r1.category, \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"src\", ctx_r1.itemImage(ctx_r1.item.id), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.item.code);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.item.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.item.price, \" \\u20AC\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.item.gender);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.item.type);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.item.description);\n    i0.ɵɵadvance(16);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.itemUpdated.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.itemUpdated.price);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.genresArray);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.types);\n    i0.ɵɵadvance(16);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.itemUpdated.description);\n  }\n}\nexport let ItemComponent = /*#__PURE__*/(() => {\n  class ItemComponent {\n    constructor(router, itemService, activatedRoute) {\n      this.router = router;\n      this.itemService = itemService;\n      this.activatedRoute = activatedRoute;\n      this.factory = new Map();\n      this.types = [];\n      this.genres = new Set();\n      this.genresArray = [];\n      this.id = 0;\n      this.itemUpdated = {\n        name: '',\n        description: '',\n        price: 0,\n        gender: '',\n        type: ''\n      };\n      this.factory.set(\"jeans\", \"clothes\");\n      this.factory.set(\"camisa\", \"clothes\");\n      this.factory.set(\"camiseta\", \"clothes\");\n      this.factory.set(\"zapato\", \"shoes\");\n      this.types = Array.from(this.factory.keys());\n      this.genres.add(\"man\");\n      this.genres.add(\"woman\");\n      this.genres.add(\"unisex\");\n      this.genresArray = Array.from(this.genres);\n    }\n    ngOnInit() {\n      this.id = this.activatedRoute.snapshot.params['id'];\n      this.itemService.getItem(this.id).subscribe(item => {\n        console.log(item), this.item = item, this.category = this.factory.get(item.type);\n      }, error => console.log(error));\n    }\n    itemImage(id) {\n      return '/store/api/items/' + id + '/image';\n    }\n    update() {\n      this.itemService.updateItem(this.id, this.itemUpdated).subscribe(item => {\n        console.log(item), this.item = item, this.category = this.factory.get(item.type),\n        //this.updateImage(this.id),\n        this.router.navigate(['/inventory/items']);\n      }, error => console.log(error));\n    }\n    updateImage() {\n      const image = this.file.nativeElement.files[0];\n      if (image) {\n        let formData = new FormData();\n        formData.append(\"itemImage\", image);\n        this.itemService.addImage(this.item, formData).subscribe(_ => {\n          alert(\"image successfully updated\"), this.home();\n        }, _ => alert(\"error updating item image\"));\n      }\n    }\n    home() {\n      this.router.navigate(['/inventory/items']);\n    }\n    static {\n      this.ɵfac = function ItemComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ItemComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ItemService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ItemComponent,\n        selectors: [[\"app-item\"]],\n        viewQuery: function ItemComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(_c0, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.file = _t.first);\n          }\n        },\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 6,\n        vars: 1,\n        consts: [[\"file\", \"\"], [4, \"ngIf\"], [1, \"footer\"], [1, \"footer-bar-top\"], [1, \"container\"], [\"href\", \"#\", 1, \"footer-bar-top-links\"], [1, \"navbar\"], [\"id\", \"mySidenav\", 1, \"nav-menu\", \"--nav-dark\"], [1, \"is-hidden-mobile\", \"brand\", \"is-uppercase\", \"has-text-weight-bold\", \"has-text-dark\", 3, \"click\"], [1, \"nav-menu-ul\"], [1, \"nav-menu-item\", \"has-text-light\"], [1, \"nav-menu-link\", 3, \"routerLink\"], [1, \"banner\", \"banner-second\"], [1, \"banner-container\"], [1, \"columns\"], [1, \"column\"], [\"alt\", \"\", \"width\", \"200\", \"height\", \"200\", 3, \"src\"], [\"id\", \"item\", 1, \"column\"], [1, \"has-text-white\"], [1, \"has-text-grey-light\"], [1, \"column\", \"is-two-fifths-desktop\"], [\"src\", \"https://pub-f65070d681344ae4af3e8b15f47129a8.r2.dev/no_image.png\", \"alt\", \"camiseta\", 1, \"active\", \"slider-item\"], [\"type\", \"file\", \"name\", \"itemImage\", \"accept\", \".jpg, .jpeg, .png\"], [1, \"columns\", \"is-multiline\"], [1, \"column\", \"is-full\", \"is-marginless\"], [1, \"btn\", \"btn-default\", \"btn-outline\", 3, \"click\"], [1, \"is-size-4\"], [\"type\", \"text\", \"placeholder\", \"name\", 1, \"form-control-field\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"placeholder\", \"price\", \"min\", \"0\", \"step\", \"0.01\", 1, \"form-control-field\", 3, \"ngModelChange\", \"ngModel\"], [1, \"column\", \"is-one-third\"], [\"for\", \"color\"], [\"class\", \"form-control-field\", \"id\", \"gender\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"size\"], [\"class\", \"form-control-field\", \"id\", \"type\", 4, \"ngFor\", \"ngForOf\"], [1, \"columns\", \"is-tablet\"], [1, \"tabs-container\"], [1, \"tabs-panels\"], [1, \"tab-panel\", \"active-panel\"], [\"placeholder\", \"description\", 1, \"form-control-field\", 3, \"ngModelChange\", \"ngModel\"], [\"id\", \"gender\", 1, \"form-control-field\"], [\"type\", \"radio\", \"name\", \"gender\", 3, \"ngModelChange\", \"value\", \"ngModel\"], [\"id\", \"type\", 1, \"form-control-field\"], [\"type\", \"radio\", \"name\", \"type\", 3, \"ngModelChange\", \"value\", \"ngModel\"]],\n        template: function ItemComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, ItemComponent_div_0_Template, 85, 16, \"div\", 1);\n            i0.ɵɵelementStart(1, \"footer\", 2)(2, \"div\", 3)(3, \"div\", 4)(4, \"a\", 5);\n            i0.ɵɵtext(5, \"2024 Avenue Fashion\");\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.item);\n          }\n        },\n        dependencies: [CommonModule, i3.NgForOf, i3.NgIf, FormsModule, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.RadioControlValueAccessor, i4.NgControlStatus, i4.MinValidator, i4.NgModel, RouterModule, i1.RouterLink],\n        encapsulation: 2\n      });\n    }\n  }\n  return ItemComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
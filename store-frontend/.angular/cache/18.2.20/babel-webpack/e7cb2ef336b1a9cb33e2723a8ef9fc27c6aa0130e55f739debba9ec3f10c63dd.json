{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/item.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = a0 => [a0];\nfunction ShoesStockComponent_div_0_div_63_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"div\", 34)(2, \"div\", 35)(3, \"div\", 36)(4, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function ShoesStockComponent_div_0_div_63_Template_button_click_4_listener() {\n      const stock_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.deleteStock(stock_r4));\n    });\n    i0.ɵɵelementStart(5, \"div\", 20)(6, \"div\", 26);\n    i0.ɵɵtext(7, \"DELETE\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(8, \"p\", 38)(9, \"strong\", 38);\n    i0.ɵɵtext(10, \"Code:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\", 38)(13, \"strong\", 38);\n    i0.ɵɵtext(14, \"Size:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\", 38)(17, \"strong\", 38);\n    i0.ɵɵtext(18, \"Stock:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const stock_r4 = ctx.$implicit;\n    const i_r5 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"active\", i_r5 === ctx_r1.currentIndex)(\"is-hidden\", i_r5 !== ctx_r1.currentIndex);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate1(\" \", stock_r4.code, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", stock_r4.size.label, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", stock_r4.stock, \"\");\n  }\n}\nfunction ShoesStockComponent_div_0_div_64_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"div\", 40);\n    i0.ɵɵlistener(\"click\", function ShoesStockComponent_div_0_div_64_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.previousItem());\n    });\n    i0.ɵɵelement(2, \"i\", 41);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ShoesStockComponent_div_0_div_65_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 42)(1, \"div\", 43);\n    i0.ɵɵlistener(\"click\", function ShoesStockComponent_div_0_div_65_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.nextItem());\n    });\n    i0.ɵɵelement(2, \"i\", 44);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ShoesStockComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"header\")(2, \"nav\", 5)(3, \"nav\", 6)(4, \"a\", 7);\n    i0.ɵɵlistener(\"click\", function ShoesStockComponent_div_0_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.home());\n    });\n    i0.ɵɵtext(5, \"Avenue Fashion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ul\", 8)(7, \"li\", 9)(8, \"a\", 10);\n    i0.ɵɵtext(9, \"confirm\");\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(10, \"div\", 11)(11, \"div\", 12)(12, \"h1\");\n    i0.ɵɵtext(13, \"Item updated\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 13)(15, \"div\", 14)(16, \"p\", 15)(17, \"strong\", 16);\n    i0.ɵɵtext(18, \"Code: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"p\", 15)(21, \"strong\", 16);\n    i0.ɵɵtext(22, \"Name: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"p\", 15)(25, \"strong\", 16);\n    i0.ɵɵtext(26, \"Price: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"p\", 15)(29, \"strong\", 16);\n    i0.ɵɵtext(30, \"Gender: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"p\", 15)(33, \"strong\", 16);\n    i0.ɵɵtext(34, \"Type: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"p\", 15)(37, \"strong\", 16);\n    i0.ɵɵtext(38, \"Description: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(39);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(40, \"div\", 3)(41, \"div\", 17)(42, \"div\", 18)(43, \"div\");\n    i0.ɵɵelement(44, \"img\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"div\", 20)(46, \"div\", 21)(47, \"label\", 22);\n    i0.ɵɵtext(48, \"Size:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"input\", 23);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ShoesStockComponent_div_0_Template_input_ngModelChange_49_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.size.label, $event) || (ctx_r1.size.label = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(50, \"div\", 24)(51, \"label\", 22);\n    i0.ɵɵtext(52, \"Stock:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"input\", 25);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ShoesStockComponent_div_0_Template_input_ngModelChange_53_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.shoes.stock, $event) || (ctx_r1.shoes.stock = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(54, \"div\", 20)(55, \"div\", 26)(56, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function ShoesStockComponent_div_0_Template_button_click_56_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.addNewStock());\n    });\n    i0.ɵɵtext(57, \"add\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(58, \"div\", 14)(59, \"h2\", 28);\n    i0.ɵɵtext(60, \"Shoes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(61, \"div\", 20)(62, \"div\", 29);\n    i0.ɵɵtemplate(63, ShoesStockComponent_div_0_div_63_Template, 20, 7, \"div\", 30)(64, ShoesStockComponent_div_0_div_64_Template, 3, 0, \"div\", 31)(65, ShoesStockComponent_div_0_div_65_Template, 3, 0, \"div\", 32);\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(13, _c0, \"/inventory/items/\" + ctx_r1.item.id));\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(ctx_r1.item.code);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.item.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.item.price, \" \\u20AC\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.item.gender);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.item.type);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.item.description);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"src\", ctx_r1.itemImage(), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.size.label);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.shoes.stock);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.item.stocks);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.item.stocks && ctx_r1.item.stocks.length > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.item.stocks && ctx_r1.item.stocks.length > 0);\n  }\n}\nexport let ShoesStockComponent = /*#__PURE__*/(() => {\n  class ShoesStockComponent {\n    constructor(router, activatedRoute, itemService) {\n      this.router = router;\n      this.activatedRoute = activatedRoute;\n      this.itemService = itemService;\n      this.id = 0;\n      this.size = {\n        code: '',\n        label: ''\n      };\n      this.stocks = [];\n      this.shoes = {\n        code: '',\n        stock: 0,\n        size: this.size\n      };\n      this.currentIndex = 0;\n    }\n    previousItem() {\n      if (this.currentIndex > 0) {\n        this.currentIndex--;\n      }\n    }\n    nextItem() {\n      if (this.currentIndex < this.item.stocks.length - 1) {\n        this.currentIndex++;\n      }\n    }\n    addNewStock() {\n      this.itemService.addSize(this.size).subscribe(size => {\n        this.size = size, this.shoes.size = this.size;\n      }, error => console.log(error));\n      this.itemService.addShoes(this.shoes).subscribe(shoes => {\n        this.shoes = shoes, this.itemService.addSizeAndStockToItem(this.item, shoes.id, shoes.size.id).subscribe(item => {\n          //this.item = item,\n          console.log(this.item), this.router.navigate(['/inventory/items/' + this.id]);\n        }, error => console.log(error));\n      }, error => console.log(error));\n    }\n    ngOnInit() {\n      this.id = this.activatedRoute.snapshot.params['id'];\n      this.itemService.getItem(this.id).subscribe(item => {\n        this.stocks = item.stocks, this.item = item;\n      }, error => console.log(error));\n    }\n    deleteStock(stock) {\n      this.itemService.deleteRelationshipItemStock(stock.id).subscribe(_ => {\n        this.itemService.deleteItemStock(stock.id).subscribe(_ => {\n          alert(\"stock successfully deleted\"),\n          //window.location.reload()\n          this.router.navigate(['/inventory/items/' + this.id]);\n        }, _ => alert(\"error deleting stock\"));\n      }, _ => alert(\"error deleting stock\"));\n    }\n    itemImage() {\n      return '/store/api/items/' + this.id + '/image';\n    }\n    home() {\n      this.router.navigate(['/inventory/items']);\n    }\n    static {\n      this.ɵfac = function ShoesStockComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ShoesStockComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ItemService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ShoesStockComponent,\n        selectors: [[\"app-shoes-stock\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 6,\n        vars: 1,\n        consts: [[4, \"ngIf\"], [1, \"footer\"], [1, \"footer-bar-top\"], [1, \"container\"], [\"href\", \"#\", 1, \"footer-bar-top-links\"], [1, \"navbar\"], [\"id\", \"mySidenav\", 1, \"nav-menu\", \"--nav-dark\"], [1, \"is-hidden-mobile\", \"brand\", \"is-uppercase\", \"has-text-weight-bold\", \"has-text-white\", 3, \"click\"], [1, \"nav-menu-ul\"], [1, \"nav-menu-item\"], [1, \"has-text-weight-bold\", \"has-text-white\", 3, \"routerLink\"], [1, \"banner\", \"banner-second\"], [1, \"banner-container\"], [\"id\", \"itemUpdated\", 1, \"columns\"], [1, \"column\"], [1, \"has-text-white\"], [1, \"has-text-grey-light\"], [1, \"columns\"], [1, \"column\", \"is-two-fifths-desktop\"], [\"alt\", \"camiseta\", \"width\", \"200\", \"height\", \"200\", 3, \"src\"], [1, \"columns\", \"is-multiline\"], [\"id\", \"size\", 1, \"column\", \"is-one-third\"], [\"for\", \"quality\"], [\"type\", \"text\", \"placeholder\", \"size\", 1, \"form-control-field\", 3, \"ngModelChange\", \"ngModel\"], [\"id\", \"stock\", 1, \"column\", \"is-one-third\"], [\"type\", \"number\", \"placeholder\", \"enter stock\", 1, \"form-control-field\", 3, \"ngModelChange\", \"ngModel\"], [1, \"column\", \"is-full\", \"is-marginless\"], [1, \"btn\", \"btn-default\", \"btn-outline\", 3, \"click\"], [1, \"is-size-3\"], [\"id\", \"slider\", 1, \"slider\"], [\"class\", \"slider-img-container\", \"style\", \"text-align: center\", 3, \"active\", \"is-hidden\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"button-left\", 4, \"ngIf\"], [\"class\", \"button-right\", 4, \"ngIf\"], [1, \"slider-img-container\", 2, \"text-align\", \"center\"], [1, \"column\", \"is-half-mobile\", \"is-two-third-desktop\"], [1, \"card\"], [1, \"card-simple-options\"], [1, \"btn\", \"btn--mini-rounded\", 3, \"click\"], [1, \"has-text-dark\"], [1, \"button-left\"], [1, \"slider-button-left\", \"slider-buttons\", 3, \"click\"], [1, \"zmdi\", \"zmdi-chevron-left\", \"zmdi-hc-3x\"], [1, \"button-right\"], [1, \"slider-button-right\", \"slider-buttons\", 3, \"click\"], [1, \"zmdi\", \"zmdi-chevron-right\", \"zmdi-hc-3x\"]],\n        template: function ShoesStockComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, ShoesStockComponent_div_0_Template, 66, 15, \"div\", 0);\n            i0.ɵɵelementStart(1, \"footer\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"a\", 4);\n            i0.ɵɵtext(5, \"2024 Avenue Fashion\");\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.item);\n          }\n        },\n        dependencies: [RouterModule, i1.RouterLink, CommonModule, i3.NgForOf, i3.NgIf, FormsModule, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgModel],\n        encapsulation: 2\n      });\n    }\n  }\n  return ShoesStockComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
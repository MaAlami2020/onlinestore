{"ast":null,"code":"import { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/order.service\";\nimport * as i3 from \"../../services/user.service\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = a0 => [a0];\nfunction UserOrdersComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"div\", 26);\n    i0.ɵɵelement(2, \"img\", 27);\n    i0.ɵɵelementStart(3, \"div\", 28)(4, \"a\", 29)(5, \"div\", 30)(6, \"div\", 31);\n    i0.ɵɵtext(7, \"VIEW ORDER\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelement(8, \"div\", 32);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const order_r1 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c0, \"/order/orders/\" + order_r1.id + \"/detail\"));\n  }\n}\nexport let UserOrdersComponent = /*#__PURE__*/(() => {\n  class UserOrdersComponent {\n    constructor(router, orderService, userService) {\n      this.router = router;\n      this.orderService = orderService;\n      this.userService = userService;\n      this.orders = [];\n      this.size = 0;\n      this.tam = 0;\n    }\n    ngOnInit() {\n      this.tam = 10;\n      this.userService.getUserOrders(this.currentUser()?.id, this.tam).subscribe(orders => {\n        console.log(orders), this.size = orders.totalElements, this.orders = orders.content;\n      }, error => console.log(error));\n    }\n    loadMore() {\n      this.tam += 10;\n      this.userService.getUserOrders(this.currentUser()?.id, this.tam).subscribe(orders => {\n        this.orders = orders.content;\n      }, error => console.log(error));\n    }\n    home() {\n      this.router.navigate(['/home']);\n    }\n    userImage(id) {\n      return '/store/api/users/' + id + '/image';\n    }\n    getNoImage() {\n      return this.orderService.getNoImage();\n    }\n    currentUser() {\n      const user = this.userService.getCurrentUser();\n      if (!user) return;\n      return user;\n    }\n    static {\n      this.ɵfac = function UserOrdersComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || UserOrdersComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.OrderService), i0.ɵɵdirectiveInject(i3.UserService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: UserOrdersComponent,\n        selectors: [[\"app-user-orders\"]],\n        standalone: true,\n        features: [i0.ɵɵProvidersFeature([]), i0.ɵɵStandaloneFeature],\n        decls: 36,\n        vars: 3,\n        consts: [[1, \"navbar-top\"], [1, \"navbar-top-ul\"], [1, \"navbar-top-orders\"], [1, \"navbar\"], [\"id\", \"mySidenav\", 1, \"nav-menu\", \"--nav-dark\"], [1, \"is-hidden-mobile\", \"brand\", \"is-uppercase\", \"has-text-weight-bold\", \"has-text-dark\", 3, \"click\"], [1, \"nav-menu-ul\"], [1, \"user-img\"], [\"alt\", \"\", \"width\", \"50\", \"height\", \"50\", 3, \"src\"], [1, \"banner\", \"banner-second\"], [1, \"banner-container\"], [1, \"container\"], [1, \"topbar-filter\", \"fw\"], [\"id\", \"total-order\"], [\"id\", \"orderListing\", 1, \"columns\", \"is-mobile\", \"is-multiline\"], [\"class\", \"column is-half-mobile is-one-quarter-desktop\", 4, \"ngFor\", \"ngForOf\"], [1, \"page-single\"], [1, \"row\"], [1, \"col-md-9\", \"col-sm-12\", \"col-xs-12\"], [1, \"pagination\"], [\"id\", \"spinner-div\", 1, \"pt-5\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"footer\"], [1, \"footer-bar-top\"], [1, \"footer-bar-top-links\"], [1, \"column\", \"is-half-mobile\", \"is-one-quarter-desktop\"], [1, \"card\"], [\"src\", \"https://pub-f65070d681344ae4af3e8b15f47129a8.r2.dev/no_image.png\", \"alt\", \"\", \"width\", \"200\", \"height\", \"200\"], [1, \"card-simple-options\"], [1, \"btn\", \"btn--mini-rounded\", 3, \"routerLink\"], [1, \"columns\", \"is-multiline\"], [1, \"column\", \"is-full\", \"is-marginless\"], [1, \"card-info\"]],\n        template: function UserOrdersComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"header\")(1, \"nav\", 0)(2, \"ul\", 1);\n            i0.ɵɵelement(3, \"li\", 2)(4, \"li\", 2);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(5, \"nav\", 3)(6, \"nav\", 4)(7, \"button\", 5);\n            i0.ɵɵlistener(\"click\", function UserOrdersComponent_Template_button_click_7_listener() {\n              return ctx.home();\n            });\n            i0.ɵɵtext(8, \"Avenue Fashion\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"ul\", 6)(10, \"div\", 7);\n            i0.ɵɵelement(11, \"img\", 8);\n            i0.ɵɵelementEnd()()()()();\n            i0.ɵɵelementStart(12, \"div\", 9);\n            i0.ɵɵelement(13, \"div\", 10);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"div\", 11)(15, \"div\", 12)(16, \"p\", 13)(17, \"span\");\n            i0.ɵɵtext(18);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(19, \" in total \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(20, \"div\", 14);\n            i0.ɵɵtemplate(21, UserOrdersComponent_div_21_Template, 9, 3, \"div\", 15);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"div\", 16)(23, \"div\", 11)(24, \"div\", 17)(25, \"div\", 18)(26, \"ul\", 19)(27, \"li\")(28, \"button\", 5);\n            i0.ɵɵlistener(\"click\", function UserOrdersComponent_Template_button_click_28_listener() {\n              return ctx.loadMore();\n            });\n            i0.ɵɵtext(29, \"more results\");\n            i0.ɵɵelementEnd()()()()()()()();\n            i0.ɵɵelementStart(30, \"div\", 20);\n            i0.ɵɵelement(31, \"div\", 21);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(32, \"footer\", 22)(33, \"div\", 23)(34, \"li\", 24);\n            i0.ɵɵtext(35, \"2024 Avenue Fashion\");\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            let tmp_0_0;\n            i0.ɵɵadvance(11);\n            i0.ɵɵproperty(\"src\", ctx.userImage((tmp_0_0 = ctx.currentUser()) == null ? null : tmp_0_0.id), i0.ɵɵsanitizeUrl);\n            i0.ɵɵadvance(7);\n            i0.ɵɵtextInterpolate1(\"\", ctx.size, \" orders\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.orders);\n          }\n        },\n        dependencies: [RouterModule, i1.RouterLink, CommonModule, i4.NgForOf],\n        encapsulation: 2\n      });\n    }\n  }\n  return UserOrdersComponent;\n})();","map":{"version":3,"names":["RouterModule","CommonModule","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ɵɵpureFunction1","_c0","order_r1","id","UserOrdersComponent","constructor","router","orderService","userService","orders","size","tam","ngOnInit","getUserOrders","currentUser","subscribe","console","log","totalElements","content","error","loadMore","home","navigate","userImage","getNoImage","user","getCurrentUser","ɵɵdirectiveInject","i1","Router","i2","OrderService","i3","UserService","selectors","standalone","features","ɵɵProvidersFeature","ɵɵStandaloneFeature","decls","vars","consts","template","UserOrdersComponent_Template","rf","ctx","ɵɵlistener","UserOrdersComponent_Template_button_click_7_listener","ɵɵtemplate","UserOrdersComponent_div_21_Template","UserOrdersComponent_Template_button_click_28_listener","tmp_0_0","ɵɵsanitizeUrl","ɵɵtextInterpolate1","RouterLink","i4","NgForOf","encapsulation"],"sources":["C:\\Users\\mimit\\OneDrive\\Documentos\\GitHub\\VentaOnline-Microservicios\\onlinestore\\store-frontend\\src\\app\\components\\user-orders\\user-orders.component.ts","C:\\Users\\mimit\\OneDrive\\Documentos\\GitHub\\VentaOnline-Microservicios\\onlinestore\\store-frontend\\src\\app\\components\\user-orders\\user-orders.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Router, RouterModule } from '@angular/router';\r\nimport { UserService } from '../../services/user.service';\r\nimport { OrderService } from '../../services/order.service';\r\nimport { Order } from '../../models/Order.model';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-user-orders',\r\n  standalone: true,\r\n  imports: [RouterModule, CommonModule],\r\n  templateUrl: './user-orders.component.html',\r\n  providers: []\r\n})\r\nexport class UserOrdersComponent {\r\n\r\n  orders: Order[] = [];\r\n  size: number = 0;\r\n  tam: number = 0;\r\n\r\n  constructor(private router: Router, public orderService: OrderService, public userService: UserService){}\r\n\r\n  ngOnInit(){\r\n    this.tam = 10;\r\n    this.userService.getUserOrders(this.currentUser()?.id, this.tam).subscribe(\r\n      (orders:any) => {\r\n        console.log(orders),\r\n        this.size = orders.totalElements,\r\n        this.orders = orders.content\r\n\r\n      },\r\n      (error: any) => console.log(error)\r\n    )\r\n  }\r\n\r\n  loadMore(){\r\n    this.tam += 10;\r\n    this.userService.getUserOrders(this.currentUser()?.id, this.tam).subscribe(\r\n      (orders:any) => {\r\n        this.orders = orders.content\r\n\r\n      },\r\n      (error: any) => console.log(error)\r\n    )\r\n  }\r\n\r\n  home(){\r\n    this.router.navigate(['/home']);\r\n  }\r\n\r\n  userImage(id: number | undefined){\r\n      return '/store/api/users/' + id + '/image';\r\n  }\r\n\r\n  getNoImage(){\r\n    return this.orderService.getNoImage();\r\n  }\r\n\r\n  currentUser(){\r\n    const user = this.userService.getCurrentUser();\r\n    if (!user) return;\r\n    return user;\r\n  }\r\n}\r\n","    <!-- Barra de navegación -->\r\n    <header>\r\n        <nav class=\"navbar-top\">\r\n            <ul class=\"navbar-top-ul\">\r\n                <li class=\"navbar-top-orders\">\r\n                    <!--<a href=\"login.html\" class=\"navbar-top-links\">Registro</a>-->\r\n                </li>\r\n                <li class=\"navbar-top-orders\">\r\n                    <!--<a href=\"login.html\" class=\"navbar-top-links\">Iniciar sesión</a>-->\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n        <nav class=\"navbar\">\r\n            <nav class=\"nav-menu --nav-dark\" id=\"mySidenav\">\r\n                <button class=\"is-hidden-mobile brand is-uppercase has-text-weight-bold has-text-dark\" (click)=\"home()\">Avenue Fashion</button>\r\n                <ul class=\"nav-menu-ul\">\r\n                    <div class=\"user-img\">\r\n                        <img [src]=\"userImage(currentUser()?.id)\" alt=\"\" width=\"50\" height=\"50\"/>\r\n                    </div>\r\n                </ul>\r\n                <!--orderss listing-->     \r\n            </nav>\r\n        </nav>\r\n    </header>\r\n    <div class=\"banner banner-second\">\r\n        <div class=\"banner-container \">\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Sección de fotografías -->\r\n    <div class=\"container\">\r\n\r\n        <div class=\"topbar-filter fw\">\r\n\t\t\t<p id=\"total-order\">\r\n                <span>{{size}} orders</span> in total\r\n            </p>\r\n\t\t</div>\r\n        <!--orderss listing-->\r\n        <div class=\"columns is-mobile is-multiline\" id=\"orderListing\">\r\n            <!--orderss info-->\r\n            <div *ngFor=\"let order of orders\" class=\"column is-half-mobile is-one-quarter-desktop\">\r\n                <div class=\"card\">\r\n                    <img src=\"https://pub-f65070d681344ae4af3e8b15f47129a8.r2.dev/no_image.png\" alt=\"\" width=\"200\" height=\"200\"/>\r\n                    <div class=\"card-simple-options\">\r\n                        <a [routerLink]=\"['/order/orders/' + order.id + '/detail']\" class=\"btn btn--mini-rounded\"> \r\n                            <div class=\"columns is-multiline\">\r\n                                <div class=\"column is-full is-marginless\">VIEW ORDER</div>\r\n                            </div>\r\n                        </a>\r\n                    </div>\r\n                    <div class=\"card-info\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"page-single\">\r\n            <div class=\"container\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-9 col-sm-12 col-xs-12\">\r\n                        <ul class=\"pagination\">               \r\n                            <li><button (click)=\"loadMore()\" class=\"is-hidden-mobile brand is-uppercase has-text-weight-bold has-text-dark\">more results</button></li>\r\n                        </ul>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n<!--pagination-->\r\n    \r\n<!--spinner-->    \r\n    <div id=\"spinner-div\" class=\"pt-5\">\r\n        <div class=\"spinner-border text-primary\" role=\"status\">\r\n        </div>\r\n    </div>\r\n\r\n    <!--<div id=\"plotlyChart\" width=\"400\" height=\"150\"></div>-->\r\n\r\n    <footer class=\"footer\">     \r\n        <div class=\"footer-bar-top\">\r\n            <li class=\"footer-bar-top-links\">2024 Avenue Fashion</li>\r\n        </div>\r\n    </footer>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
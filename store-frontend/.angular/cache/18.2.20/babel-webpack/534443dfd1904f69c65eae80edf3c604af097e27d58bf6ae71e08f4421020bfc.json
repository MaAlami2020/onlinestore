{"ast":null,"code":"import { catchError, throwError } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nconst ITEM_URL = '/new/store/api/items';\nconst ITEM_INV = '/inventory/api/inventory';\nexport let ItemService = /*#__PURE__*/(() => {\n  class ItemService {\n    constructor(https) {\n      this.https = https;\n    }\n    getItems(tam) {\n      return this.https.get(ITEM_URL + '?size=' + tam).pipe(catchError(error => {\n        return this.handleError(error);\n      }));\n    }\n    getTotalItems() {\n      return this.https.get(ITEM_URL + '/listing').pipe(catchError(error => {\n        return this.handleError(error);\n      }));\n    }\n    addSize(size) {\n      return this.https.post(ITEM_INV + '/sizes', size).pipe(catchError(error => {\n        return this.handleError(error);\n      }));\n    }\n    addClothes(clothes) {\n      return this.https.post(ITEM_INV + '/items/clothes/stock', clothes).pipe(catchError(error => {\n        return this.handleError(error);\n      }));\n    }\n    addShoes(shoes) {\n      return this.https.post(ITEM_INV + '/items/shoes/stock', shoes).pipe(catchError(error => {\n        return this.handleError(error);\n      }));\n    }\n    addSizeAndStockToItem(item, stock, size) {\n      return this.https.get(ITEM_INV + '/items/' + item.id + '/stocks/' + stock + '/sizes/' + size).pipe(catchError(error => {\n        return this.handleError(error);\n      }));\n    }\n    getItemsFounded(name, tam) {\n      return this.https.get(ITEM_URL + '/' + name + '?size=' + tam).pipe(catchError(error => {\n        return this.handleError(error);\n      }));\n    }\n    deleteRelationshipItemStock(id) {\n      return this.https.delete(ITEM_INV + '/stocks/' + id).pipe(catchError(error => {\n        return this.handleError(error);\n      }));\n    }\n    deleteItemStock(id) {\n      return this.https.delete(ITEM_INV + '/stocks/' + id + '/delete').pipe(catchError(error => {\n        return this.handleError(error);\n      }));\n    }\n    getItem(id) {\n      return this.https.get(ITEM_URL + '/' + id + '/info').pipe(catchError(error => {\n        return this.handleError(error);\n      }));\n    }\n    updateItem(id, item) {\n      return this.https.put(ITEM_INV + '/items/' + id + '/update', item).pipe(catchError(error => {\n        return this.handleError(error);\n      }));\n    }\n    addItem(item) {\n      return this.https.post(ITEM_INV + '/items', item).pipe(catchError(error => {\n        return this.handleError(error);\n      }));\n    }\n    addImage(item, image) {\n      return this.https.post(ITEM_INV + '/items/' + item.id + '/image', image).pipe(catchError(error => {\n        return this.handleError(error);\n      }));\n    }\n    deleteItem(id) {\n      return this.https.delete(ITEM_INV + '/items/' + id + '/delete').pipe(catchError(error => {\n        return this.handleError(error);\n      }));\n    }\n    addItemToCart(username, id, itemToBuy) {\n      return this.https.post('/new/store/api/add/cart/users/' + username + '/items/' + id, itemToBuy).pipe(catchError(error => {\n        return this.handleError(error);\n      }));\n    }\n    getUserFavItems(tam, user) {\n      return this.https.get(ITEM_URL + '/favourites/' + user.username).pipe(catchError(error => {\n        return this.handleError(error);\n      }));\n    }\n    addFavItem(code, user) {\n      return this.https.get(ITEM_URL + '/' + code + '/favourites/' + user.id + '/new').pipe(catchError(error => {\n        return this.handleError(error);\n      }));\n    }\n    handleError(error) {\n      console.error('HTTP Error:', error);\n      return throwError(() => error);\n    }\n    static {\n      this.ɵfac = function ItemService_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ItemService)(i0.ɵɵinject(i1.HttpClient));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: ItemService,\n        factory: ItemService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return ItemService;\n})();","map":{"version":3,"names":["catchError","throwError","ITEM_URL","ITEM_INV","ItemService","constructor","https","getItems","tam","get","pipe","error","handleError","getTotalItems","addSize","size","post","addClothes","clothes","addShoes","shoes","addSizeAndStockToItem","item","stock","id","getItemsFounded","name","deleteRelationshipItemStock","delete","deleteItemStock","getItem","updateItem","put","addItem","addImage","image","deleteItem","addItemToCart","username","itemToBuy","getUserFavItems","user","addFavItem","code","console","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Users\\mimit\\OneDrive\\Documentos\\GitHub\\VentaOnline-Microservicios\\onlinestore\\store-frontend\\src\\app\\services\\item.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable, catchError, throwError } from \"rxjs\";\r\nimport { User } from \"../models/User.model\";\r\nimport { ItemToBuy } from \"../models/ItemToBuy.model\";\r\nimport { Item } from \"../models/Item.model\";\r\nimport { Size } from \"../models/Size.model\";\r\nimport { Stock } from \"../models/Stock.model\";\r\nimport { ItemDTO } from \"../models/ItemDTO\";\r\nimport { StockDTO } from \"../models/StockDTO\";\r\n\r\nconst ITEM_URL = '/new/store/api/items';\r\nconst ITEM_INV = '/inventory/api/inventory';\r\n\r\n@Injectable({ providedIn: 'root'})\r\nexport class ItemService{\r\n\r\n    constructor(private https: HttpClient){}\r\n\r\n    getItems(tam: number): Observable<any>{\r\n        return this.https.get(ITEM_URL + '?size=' + tam).pipe(\r\n            catchError((error) => {\r\n                return this.handleError(error);\r\n            })\r\n        )as Observable<any>;\r\n    }\r\n\r\n    getTotalItems(): Observable<any>{\r\n        return this.https.get(ITEM_URL + '/listing').pipe(\r\n            catchError((error) => {\r\n                return this.handleError(error);\r\n            })\r\n        )as Observable<any>; \r\n    }\r\n\r\n    addSize(size: Size):Observable<any>{\r\n        return this.https.post(ITEM_INV + '/sizes', size).pipe(\r\n            catchError((error) => {\r\n                return this.handleError(error);\r\n            })\r\n        )as Observable<any>; \r\n    }\r\n\r\n    addClothes(clothes: Stock):Observable<any>{\r\n        return this.https.post(ITEM_INV + '/items/clothes/stock', clothes).pipe(\r\n            catchError((error) => {\r\n                return this.handleError(error);\r\n            })\r\n        )as Observable<any>; \r\n    }\r\n\r\n    addShoes(shoes: Stock):Observable<any>{\r\n        return this.https.post(ITEM_INV + '/items/shoes/stock', shoes).pipe(\r\n            catchError((error) => {\r\n                return this.handleError(error);\r\n            })\r\n        )as Observable<any>; \r\n    }\r\n\r\n    addSizeAndStockToItem(item: Item, stock: number, size: number):Observable<any>{\r\n        return this.https.get(ITEM_INV + '/items/' + item.id + '/stocks/' + stock + '/sizes/' + size).pipe(\r\n            catchError((error) => {\r\n                return this.handleError(error);\r\n            })\r\n        )as Observable<any>; \r\n    }\r\n\r\n    getItemsFounded(name: string, tam: number): Observable<any>{\r\n        return this.https.get(ITEM_URL + '/' + name + '?size=' + tam).pipe(\r\n            catchError((error) => {\r\n                return this.handleError(error);\r\n            })\r\n        )as Observable<any>;\r\n    }\r\n\r\n    deleteRelationshipItemStock(id: number): Observable<any>{\r\n        return this.https.delete(ITEM_INV + '/stocks/' + id).pipe(\r\n            catchError((error) => {\r\n                return this.handleError(error);\r\n            })\r\n        )as Observable<any>;\r\n    }\r\n\r\n    deleteItemStock(id: number): Observable<any>{\r\n        return this.https.delete(ITEM_INV + '/stocks/' + id + '/delete').pipe(\r\n            catchError((error) => {\r\n                return this.handleError(error);\r\n            })\r\n        )as Observable<any>;\r\n    }\r\n\r\n    getItem(id: number): Observable<any>{\r\n        return this.https.get(ITEM_URL + '/' + id + '/info').pipe(\r\n            catchError((error) => {\r\n                return this.handleError(error);\r\n            })\r\n        )as Observable<any>;\r\n    }\r\n\r\n    updateItem(id: number, item: ItemDTO): Observable<any>{\r\n        return this.https.put(ITEM_INV + '/items/' + id + '/update', item).pipe(\r\n            catchError((error) => {\r\n                return this.handleError(error);\r\n            })\r\n        )as Observable<any>;\r\n    }\r\n\r\n    addItem(item: ItemDTO): Observable<any>{\r\n        return this.https.post(ITEM_INV + '/items', item).pipe(\r\n            catchError((error) => {\r\n                return this.handleError(error);\r\n            })\r\n        )as Observable<any>;\r\n    }\r\n\r\n    addImage(item: Item, image: FormData){\r\n        return this.https.post(ITEM_INV + '/items/' + item.id + '/image', image).pipe(\r\n            catchError((error) => {\r\n                return this.handleError(error);\r\n            })\r\n        );\r\n    }\r\n\r\n    deleteItem(id: number | undefined):Observable<any>{\r\n        return this.https.delete(ITEM_INV + '/items/' + id + '/delete').pipe(\r\n            catchError((error) => {\r\n                return this.handleError(error)\r\n            })\r\n        )as Observable<any>;\r\n    }\r\n\r\n    addItemToCart(username: string, id: number, itemToBuy: ItemToBuy){\r\n        return this.https.post('/new/store/api/add/cart/users/' + username + '/items/' + id, itemToBuy).pipe(\r\n            catchError((error) => {\r\n                return this.handleError(error);\r\n            })\r\n        );\r\n    }\r\n\r\n    getUserFavItems(tam: number, user: User): Observable<any>{\r\n        return this.https.get(ITEM_URL + '/favourites/' + user.username).pipe(\r\n            catchError((error) => {\r\n                return this.handleError(error);\r\n            })\r\n        )as Observable<any>;\r\n    }\r\n\r\n    addFavItem(code: string, user: User): Observable<any>{\r\n        return this.https.get(ITEM_URL + '/' + code + '/favourites/' + user.id +'/new').pipe(\r\n            catchError((error) => {\r\n                return this.handleError(error);\r\n            })\r\n        )as Observable<any>;\r\n    }\r\n\r\n    handleError(error: any) {\r\n        console.error('HTTP Error:', error);\r\n\r\n        return throwError(() => error);\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}